<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>@AssertTrue / @AssertFalse を使用した検証</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 24px; line-height: 1.7; }
    .wrap { display: grid; gap: 16px; }
    .result { padding: 12px; background: #f6f8fa; border-radius: 8px; }
    fieldset { border: 1px solid #ddd; border-radius: 8px; padding: 16px; }
    legend { font-weight: 600; }
    label { display: inline-block; min-width: 11em; }
    input { padding: 6px 8px; }
    .hint { color: #666; font-size: .95em; }
    .active { outline: 2px solid #2684ff; }
  </style>
</head>
<body>
<h2>@AssertTrue / @AssertFalse を使用した検証</h2>
<p class="hint">
  ① フィールド検証（true/false 必須）と、② 引数なし&戻り値の型がbooleanであるメソッドの検証をまとめて試せます。
</p>

<div class="wrap">
  <!-- 結果表示 -->
  <div class="result" th:if="${result != null}" th:text="${result}">
    ここに結果メッセージが表示されます
  </div>

  <fieldset th:classappend="${active}=='consent' ? ' active'">
    <legend>① フィールド検証（@AssertTrue / @AssertFalse）</legend>
    <form th:action="@{/asserts/consent}" method="post">
      <p><label>お名前：</label><input type="text" name="name"></p>
      <p><label>同意（true 必須）：</label><input type="checkbox" name="agreeTerms" value="true"></p>
      <p><label>blocked（false 必須）：</label><input type="checkbox" name="blocked" value="true"></p>
      <button type="submit">送信</button>
    </form>
    <p class="hint">agreeTerms を未チェック、または blocked にチェックがあると 400 になります。</p>
  </fieldset>

  <fieldset th:classappend="${active}=='profile' ? ' active'">
    <legend>② 引数なし&戻り値の型がbooleanであるメソッドの検証</legend>
    <form th:action="@{/asserts/profile}" method="post">
      <p><label>年齢（任意。入力するなら20以上）：</label><input type="number" name="age"></p>
      <button type="submit">送信</button>
    </form>
    <p class="hint">未入力または 20以上で OK。<br>19 以下は 400 になります。</p>
  </fieldset>
</div>
</body>
</html>